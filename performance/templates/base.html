<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Performance</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename = 'css/base.css') }}">
    <link id="darkmode" rel="stylesheet" href="">
    {% block second_stylesheet %}{% endblock %}
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@1,500&display=swap');
    </style>
</head>

<body>
    {% block header%}
        <header>
                <a href="{{ url_for('main.index') }}"><h1 id="header-title">Performance</h1></a>
                <img id="navbar-night-mode-icon" src="{{ url_for('static', filename = '/img/moon-svgrepo-com.svg') }}" 
                    alt="navigation bar night mode icon">
        </header>
    {% endblock %}
    {% block main %}
        <main>
            {% block content %}
            {% endblock %}
        </main>
    {% endblock %}
    {% block footer %}
        <footer>
            <p class="footer-elements"><a href="{{ url_for('main.about') }}">about</a></p>
            <p class="footer-elements"><a href="https://github.com/dominikchlodowicz">@ Dominik Ch≈Çodowicz</a></p>
        </footer>
    {% endblock %}

    <script type="application/javascript">
        // code for dark mode
        const nightModeIcon = document.getElementById("navbar-night-mode-icon");
        const darkModeStyleSheet = document.getElementById("darkmode");

        function darkModeSwitchFunction(){
            const localStorageDarkModeFlag = localStorage.getItem("darkMode");
            if(localStorageDarkModeFlag === "true"){
                darkModeStyleSheet.setAttribute("href", "");
                darkModeStyleSheet.setAttribute("href", "{{ url_for('static', filename = 'css/dark.css') }}");
            } else {
                darkModeStyleSheet.setAttribute("href", "");
            }
        }

        darkModeSwitchFunction();

        function onClickSwitchDarkMode(){
            const localStorageDarkModeFlag = localStorage.getItem("darkMode");
            if(localStorageDarkModeFlag === "true"){
                localStorage.setItem("darkMode", false);
            } else {
                localStorage.setItem("darkMode", true);
            }
        }

        nightModeIcon.addEventListener("click", ()=>{
            onClickSwitchDarkMode();
            darkModeSwitchFunction();
        });

    </script>
</body>
</html>